### CRUD CUOTAS - Sistema de Gestión de Cuotas Sociales
### Base URL: http://localhost:3001/api/cuotas

### ===== TESTS BÁSICOS CRUD =====

### 1. Obtener lista de cuotas (vacía inicialmente)
GET http://localhost:3001/api/cuotas
Content-Type: application/json

### 2. Obtener lista de cuotas con paginación
GET http://localhost:3001/api/cuotas?page=1&limit=5
Content-Type: application/json

### 3. Obtener cuotas pendientes
GET http://localhost:3001/api/cuotas/pendientes/listado
Content-Type: application/json

### 4. Obtener cuotas vencidas
GET http://localhost:3001/api/cuotas/vencidas/listado
Content-Type: application/json

### 5. Obtener dashboard principal de cuotas
GET http://localhost:3001/api/cuotas/dashboard/principal
Content-Type: application/json

### ===== TESTS DE GENERACIÓN DE CUOTAS =====

### 6. Validar generación de cuotas para período actual
GET http://localhost:3001/api/cuotas/validar/10/2025/generacion
Content-Type: application/json

### 7. Validar generación con filtro de categoría
GET http://localhost:3001/api/cuotas/validar/10/2025/generacion?categoria=ACTIVO
Content-Type: application/json

### 8. Generar cuotas masivamente para octubre 2025
POST http://localhost:3001/api/cuotas/generar/masiva
Content-Type: application/json

{
  "mes": 10,
  "anio": 2025,
  "categorias": ["ACTIVO", "ESTUDIANTE"],
  "incluirInactivos": false,
  "aplicarDescuentos": true,
  "observaciones": "Cuotas octubre 2025 - Generación automática"
}

### 9. Generar cuotas para todas las categorías
POST http://localhost:3001/api/cuotas/generar/masiva
Content-Type: application/json

{
  "mes": 11,
  "anio": 2025,
  "aplicarDescuentos": true,
  "observaciones": "Cuotas noviembre 2025"
}

### ===== TESTS DE CÁLCULO DE CUOTAS =====

### 10. Calcular monto de cuota para socio activo
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "ACTIVO",
  "mes": 10,
  "anio": 2025,
  "incluirActividades": true,
  "aplicarDescuentos": true
}

### 11. Calcular monto para estudiante con descuento
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "ESTUDIANTE",
  "mes": 10,
  "anio": 2025,
  "socioId": "cmfzndnrm000c4z6crm2xdjys",
  "incluirActividades": true,
  "aplicarDescuentos": true
}

### 12. Calcular monto para jubilado
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "JUBILADO",
  "mes": 10,
  "anio": 2025,
  "incluirActividades": false,
  "aplicarDescuentos": true
}

### 13. Calcular monto para familiar
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "FAMILIAR",
  "mes": 10,
  "anio": 2025,
  "incluirActividades": true,
  "aplicarDescuentos": false
}

### ===== TESTS DE CONSULTA POR PERÍODO =====

### 14. Obtener cuotas por período específico
GET http://localhost:3001/api/cuotas/periodo/10/2025
Content-Type: application/json

### 15. Obtener cuotas por período y categoría
GET http://localhost:3001/api/cuotas/periodo/10/2025?categoria=ACTIVO
Content-Type: application/json

### 16. Obtener resumen mensual de octubre 2025
GET http://localhost:3001/api/cuotas/resumen/10/2025
Content-Type: application/json

### 17. Obtener períodos disponibles
GET http://localhost:3001/api/cuotas/periodos/disponibles
Content-Type: application/json

### ===== TESTS DE CONSULTA POR SOCIO =====

### 18. Obtener cuotas por socio específico
GET http://localhost:3001/api/cuotas/socio/cmfzndnrm000c4z6crm2xdjys
Content-Type: application/json

### 19. Obtener últimas 3 cuotas de un socio
GET http://localhost:3001/api/cuotas/socio/cmfzndnrm000c4z6crm2xdjys?limit=3
Content-Type: application/json

### ===== TESTS DE FILTROS AVANZADOS =====

### 20. Filtrar cuotas por categoría
GET http://localhost:3001/api/cuotas?categoria=ESTUDIANTE
Content-Type: application/json

### 21. Filtrar cuotas por mes y año
GET http://localhost:3001/api/cuotas?mes=10&anio=2025
Content-Type: application/json

### 22. Filtrar solo cuotas impagas
GET http://localhost:3001/api/cuotas?soloImpagas=true
Content-Type: application/json

### 23. Filtrar solo cuotas vencidas
GET http://localhost:3001/api/cuotas?soloVencidas=true
Content-Type: application/json

### 24. Filtrar por rango de fechas
GET http://localhost:3001/api/cuotas?fechaDesde=2025-10-01T00:00:00.000Z&fechaHasta=2025-10-31T23:59:59.000Z
Content-Type: application/json

### 25. Ordenar por monto descendente
GET http://localhost:3001/api/cuotas?ordenarPor=monto&orden=desc
Content-Type: application/json

### ===== TESTS DE BÚSQUEDA =====

### 26. Búsqueda por nombre de socio
GET http://localhost:3001/api/cuotas/search/avanzada?search=Laura&searchBy=socio
Content-Type: application/json

### 27. Búsqueda por número de recibo
GET http://localhost:3001/api/cuotas/search/avanzada?search=000001&searchBy=numero_recibo
Content-Type: application/json

### 28. Búsqueda general con filtros
GET http://localhost:3001/api/cuotas/search/avanzada?search=Martinez&searchBy=all&categoria=ESTUDIANTE&mes=10
Content-Type: application/json

### ===== TESTS DE ESTADÍSTICAS =====

### 29. Estadísticas agrupadas por categoría
GET http://localhost:3001/api/cuotas/stats/resumen?fechaDesde=2025-10-01T00:00:00.000Z&fechaHasta=2025-10-31T23:59:59.000Z&agruparPor=categoria
Content-Type: application/json

### 30. Estadísticas agrupadas por mes
GET http://localhost:3001/api/cuotas/stats/resumen?fechaDesde=2025-01-01T00:00:00.000Z&fechaHasta=2025-12-31T23:59:59.000Z&agruparPor=mes
Content-Type: application/json

### 31. Estadísticas agrupadas por estado
GET http://localhost:3001/api/cuotas/stats/resumen?fechaDesde=2025-10-01T00:00:00.000Z&fechaHasta=2025-10-31T23:59:59.000Z&agruparPor=estado
Content-Type: application/json

### 32. Estadísticas generales
GET http://localhost:3001/api/cuotas/stats/resumen?fechaDesde=2025-10-01T00:00:00.000Z&fechaHasta=2025-10-31T23:59:59.000Z&agruparPor=general
Content-Type: application/json

### ===== TESTS DE REPORTES =====

### 33. Generar reporte completo de octubre 2025
GET http://localhost:3001/api/cuotas/reporte/10/2025?formato=json&incluirDetalle=true&incluirEstadisticas=true
Content-Type: application/json

### 34. Generar reporte solo estadísticas
GET http://localhost:3001/api/cuotas/reporte/10/2025?formato=json&incluirDetalle=false&incluirEstadisticas=true
Content-Type: application/json

### 35. Generar reporte por categoría específica
GET http://localhost:3001/api/cuotas/reporte/10/2025?categoria=ACTIVO&formato=json
Content-Type: application/json

### ===== TESTS DE OPERACIONES SOBRE CUOTAS EXISTENTES =====

### 36. Obtener cuota por ID (reemplazar con ID real)
GET http://localhost:3001/api/cuotas/CUOTA_ID_PLACEHOLDER
Content-Type: application/json

### 37. Obtener cuota por ID de recibo
GET http://localhost:3001/api/cuotas/recibo/cmg104eky0001zi8pvl0pm2dl
Content-Type: application/json

### 38. Crear cuota manual (para testing)
POST http://localhost:3001/api/cuotas
Content-Type: application/json

{
  "reciboId": "RECIBO_ID_PLACEHOLDER",
  "categoria": "ACTIVO",
  "mes": 12,
  "anio": 2025,
  "montoBase": 25000,
  "montoActividades": 5000,
  "montoTotal": 30000
}

### 39. Actualizar cuota existente
PUT http://localhost:3001/api/cuotas/CUOTA_ID_PLACEHOLDER
Content-Type: application/json

{
  "montoBase": 27000,
  "montoActividades": 3000,
  "montoTotal": 30000
}

### ===== TESTS DE RECÁLCULO =====

### 40. Recalcular cuotas de octubre 2025
POST http://localhost:3001/api/cuotas/recalcular/periodo
Content-Type: application/json

{
  "mes": 10,
  "anio": 2025,
  "aplicarDescuentos": true,
  "actualizarRecibos": false
}

### 41. Recalcular solo categoría específica
POST http://localhost:3001/api/cuotas/recalcular/periodo
Content-Type: application/json

{
  "mes": 10,
  "anio": 2025,
  "categoria": "ESTUDIANTE",
  "aplicarDescuentos": true,
  "actualizarRecibos": true
}

### ===== TESTS DE ELIMINACIÓN =====

### 42. Eliminar cuota individual
DELETE http://localhost:3001/api/cuotas/CUOTA_ID_PLACEHOLDER
Content-Type: application/json

### 43. Eliminar cuotas en lote
DELETE http://localhost:3001/api/cuotas/bulk/eliminar
Content-Type: application/json

{
  "ids": ["CUOTA_ID_1", "CUOTA_ID_2"],
  "confirmarEliminacion": true
}

### ===== TESTS DE CASOS ESPECIALES =====

### 44. Generar cuotas sin descuentos
POST http://localhost:3001/api/cuotas/generar/masiva
Content-Type: application/json

{
  "mes": 12,
  "anio": 2025,
  "aplicarDescuentos": false
}

### 45. Calcular cuota sin incluir actividades
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "ACTIVO",
  "mes": 12,
  "anio": 2025,
  "incluirActividades": false,
  "aplicarDescuentos": true
}

### ===== TESTS DE VALIDACIÓN DE ERRORES =====

### 46. Crear cuota con datos inválidos (mes fuera de rango)
POST http://localhost:3001/api/cuotas
Content-Type: application/json

{
  "reciboId": "cmg104eky0001zi8pvl0pm2dl",
  "categoria": "ACTIVO",
  "mes": 13,
  "anio": 2025,
  "montoBase": 25000,
  "montoActividades": 0,
  "montoTotal": 25000
}

### 47. Generar cuotas con mes inválido
POST http://localhost:3001/api/cuotas/generar/masiva
Content-Type: application/json

{
  "mes": 0,
  "anio": 2025,
  "aplicarDescuentos": true
}

### 48. Calcular cuota con categoría inválida
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "INVALID_CATEGORY",
  "mes": 10,
  "anio": 2025
}

### 49. Crear cuota con monto total incorrecto
POST http://localhost:3001/api/cuotas
Content-Type: application/json

{
  "reciboId": "cmg104eky0001zi8pvl0pm2dl",
  "categoria": "ACTIVO",
  "mes": 10,
  "anio": 2025,
  "montoBase": 25000,
  "montoActividades": 5000,
  "montoTotal": 20000
}

### 50. Eliminar cuotas sin confirmación
DELETE http://localhost:3001/api/cuotas/bulk/eliminar
Content-Type: application/json

{
  "ids": ["CUOTA_ID_1"],
  "confirmarEliminacion": false
}

### ===== TESTS DE INTEGRACIÓN =====

### 51. Generar cuotas y obtener dashboard actualizado
POST http://localhost:3001/api/cuotas/generar/masiva
Content-Type: application/json

{
  "mes": 1,
  "anio": 2026,
  "aplicarDescuentos": true
}

###
GET http://localhost:3001/api/cuotas/dashboard/principal
Content-Type: application/json

### 52. Calcular y crear cuota manual
POST http://localhost:3001/api/cuotas/calcular/monto
Content-Type: application/json

{
  "categoria": "ACTIVO",
  "mes": 1,
  "anio": 2026,
  "incluirActividades": true,
  "aplicarDescuentos": true
}

### 53. Obtener estadísticas después de generar cuotas
GET http://localhost:3001/api/cuotas/stats/resumen?fechaDesde=2025-01-01T00:00:00.000Z&fechaHasta=2026-12-31T23:59:59.000Z&agruparPor=categoria
Content-Type: application/json

### ===== TESTS DE PERFORMANCE =====

### 54. Obtener grandes listas de cuotas
GET http://localhost:3001/api/cuotas?limit=100
Content-Type: application/json

### 55. Búsqueda en gran volumen de datos
GET http://localhost:3001/api/cuotas/search/avanzada?search=2025&searchBy=all
Content-Type: application/json

### ===== TESTS FINALES =====

### 56. Resumen completo del sistema
GET http://localhost:3001/api/cuotas/dashboard/principal
Content-Type: application/json

### 57. Validar integridad de datos
GET http://localhost:3001/api/cuotas?ordenarPor=fecha&orden=desc&limit=50
Content-Type: application/json

### 58. Estadísticas finales del año
GET http://localhost:3001/api/cuotas/stats/resumen?fechaDesde=2025-01-01T00:00:00.000Z&fechaHasta=2025-12-31T23:59:59.000Z&agruparPor=mes
Content-Type: application/json
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const familiar_controller_1 = require("@/controllers/familiar.controller");
const familiar_service_1 = require("@/services/familiar.service");
const familiar_repository_1 = require("@/repositories/familiar.repository");
const persona_repository_1 = require("@/repositories/persona.repository");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const familiarRepository = new familiar_repository_1.FamiliarRepository(database_1.prisma);
const personaRepository = new persona_repository_1.PersonaRepository(database_1.prisma);
const familiarService = new familiar_service_1.FamiliarService(familiarRepository, personaRepository);
const familiarController = new familiar_controller_1.FamiliarController(familiarService);
router.get('/search/avanzada', familiarController.searchFamiliares.bind(familiarController));
router.get('/stats/parentesco', familiarController.getParentescoStats.bind(familiarController));
router.get('/tipos/parentesco', familiarController.getTiposParentesco.bind(familiarController));
router.get('/socio/:socioId', familiarController.getFamiliarsBySocio.bind(familiarController));
router.get('/socio/:socioId/tree', familiarController.getFamilyTree.bind(familiarController));
router.get('/socio/:socioId/disponibles', familiarController.getAvailableFamiliares.bind(familiarController));
router.get('/verify/:socioId/:familiarId', familiarController.checkRelationExists.bind(familiarController));
router.post('/bulk/create', familiarController.createBulkFamiliares.bind(familiarController));
router.delete('/bulk/delete', familiarController.deleteBulkFamiliares.bind(familiarController));
router.post('/', familiarController.createFamiliar.bind(familiarController));
router.get('/', familiarController.getFamiliares.bind(familiarController));
router.get('/:id', familiarController.getFamiliarById.bind(familiarController));
router.put('/:id', familiarController.updateFamiliar.bind(familiarController));
router.delete('/:id', familiarController.deleteFamiliar.bind(familiarController));
exports.default = router;
//# sourceMappingURL=familiar.routes.js.map
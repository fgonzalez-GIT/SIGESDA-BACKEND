"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const participacion_controller_1 = require("@/controllers/participacion.controller");
const participacion_service_1 = require("@/services/participacion.service");
const participacion_repository_1 = require("@/repositories/participacion.repository");
const persona_repository_1 = require("@/repositories/persona.repository");
const actividad_repository_1 = require("@/repositories/actividad.repository");
const asistencia_repository_1 = require("@/repositories/asistencia.repository");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const participacionRepository = new participacion_repository_1.ParticipacionRepository(database_1.prisma);
const personaRepository = new persona_repository_1.PersonaRepository(database_1.prisma);
const actividadRepository = new actividad_repository_1.ActividadRepository(database_1.prisma);
const asistenciaRepository = new asistencia_repository_1.AsistenciaRepository(database_1.prisma);
const participacionService = new participacion_service_1.ParticipacionService(participacionRepository, personaRepository, actividadRepository, asistenciaRepository);
const participacionController = new participacion_controller_1.ParticipacionController(participacionService);
router.get('/activas', participacionController.getParticipacionesActivas.bind(participacionController));
router.get('/por-vencer', participacionController.getParticipacionesPorVencer.bind(participacionController));
router.get('/estadisticas', participacionController.getEstadisticas.bind(participacionController));
router.get('/dashboard', participacionController.getDashboard.bind(participacionController));
router.get('/reporte-inasistencias', participacionController.getReporteInasistencias.bind(participacionController));
router.post('/inscripcion-masiva', participacionController.inscripcionMasiva.bind(participacionController));
router.post('/verificar-cupos', participacionController.verificarCupos.bind(participacionController));
router.post('/', participacionController.createParticipacion.bind(participacionController));
router.get('/', participacionController.getParticipaciones.bind(participacionController));
router.get('/:id', participacionController.getParticipacionById.bind(participacionController));
router.put('/:id', participacionController.updateParticipacion.bind(participacionController));
router.delete('/:id', participacionController.deleteParticipacion.bind(participacionController));
router.post('/:id/desinscribir', participacionController.desinscribir.bind(participacionController));
router.post('/:id/reactivar', participacionController.reactivarParticipacion.bind(participacionController));
router.post('/:id/transferir', participacionController.transferirParticipacion.bind(participacionController));
router.get('/persona/:personaId', participacionController.getParticipacionesByPersona.bind(participacionController));
router.get('/actividad/:actividadId', participacionController.getParticipacionesByActividad.bind(participacionController));
exports.default = router;
//# sourceMappingURL=participacion.routes.js.map
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const simulador_cuota_controller_1 = require("@/controllers/simulador-cuota.controller");
const cuota_service_1 = require("@/services/cuota.service");
const cuota_repository_1 = require("@/repositories/cuota.repository");
const recibo_repository_1 = require("@/repositories/recibo.repository");
const persona_repository_1 = require("@/repositories/persona.repository");
const configuracion_repository_1 = require("@/repositories/configuracion.repository");
const motor_reglas_descuentos_service_1 = require("@/services/motor-reglas-descuentos.service");
const ajuste_cuota_service_1 = require("@/services/ajuste-cuota.service");
const ajuste_cuota_repository_1 = require("@/repositories/ajuste-cuota.repository");
const exencion_cuota_service_1 = require("@/services/exencion-cuota.service");
const exencion_cuota_repository_1 = require("@/repositories/exencion-cuota.repository");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const cuotaRepository = new cuota_repository_1.CuotaRepository();
const reciboRepository = new recibo_repository_1.ReciboRepository();
const personaRepository = new persona_repository_1.PersonaRepository();
const configuracionRepository = new configuracion_repository_1.ConfiguracionRepository();
const ajusteCuotaRepository = new ajuste_cuota_repository_1.AjusteCuotaRepository();
const exencionCuotaRepository = new exencion_cuota_repository_1.ExencionCuotaRepository();
const motorReglasDescuentos = new motor_reglas_descuentos_service_1.MotorReglasDescuentos(database_1.prisma);
const ajusteService = new ajuste_cuota_service_1.AjusteCuotaService(ajusteCuotaRepository);
const exencionService = new exencion_cuota_service_1.ExencionCuotaService(exencionCuotaRepository);
const cuotaService = new cuota_service_1.CuotaService(cuotaRepository, reciboRepository, personaRepository, configuracionRepository, ajusteService, exencionService);
const simuladorController = new simulador_cuota_controller_1.SimuladorCuotaController(cuotaService, motorReglasDescuentos, ajusteService, exencionService);
router.get('/health', simuladorController.healthCheck);
router.post('/generacion', simuladorController.simularGeneracion);
router.post('/reglas', simuladorController.simularReglaDescuento);
router.post('/escenarios', simuladorController.compararEscenarios);
router.post('/impacto-masivo', simuladorController.simularImpactoMasivo);
exports.default = router;
//# sourceMappingURL=simulador-cuota.routes.js.map
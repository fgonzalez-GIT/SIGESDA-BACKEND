"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const reserva_aula_controller_1 = require("@/controllers/reserva-aula.controller");
const reserva_aula_service_1 = require("@/services/reserva-aula.service");
const reserva_aula_repository_1 = require("@/repositories/reserva-aula.repository");
const aula_repository_1 = require("@/repositories/aula.repository");
const persona_repository_1 = require("@/repositories/persona.repository");
const actividad_repository_1 = require("@/repositories/actividad.repository");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const reservaAulaRepository = new reserva_aula_repository_1.ReservaAulaRepository(database_1.prisma);
const aulaRepository = new aula_repository_1.AulaRepository(database_1.prisma);
const personaRepository = new persona_repository_1.PersonaRepository(database_1.prisma);
const actividadRepository = new actividad_repository_1.ActividadRepository(database_1.prisma);
const reservaAulaService = new reserva_aula_service_1.ReservaAulaService(reservaAulaRepository, aulaRepository, personaRepository, actividadRepository);
const reservaAulaController = new reserva_aula_controller_1.ReservaAulaController(reservaAulaService);
router.post('/', reservaAulaController.createReserva.bind(reservaAulaController));
router.get('/', reservaAulaController.getReservas.bind(reservaAulaController));
router.get('/:id', reservaAulaController.getReservaById.bind(reservaAulaController));
router.put('/:id', reservaAulaController.updateReserva.bind(reservaAulaController));
router.delete('/:id', reservaAulaController.deleteReserva.bind(reservaAulaController));
router.get('/search/avanzada', reservaAulaController.searchReservas.bind(reservaAulaController));
router.get('/stats/reservas', reservaAulaController.getStatistics.bind(reservaAulaController));
router.get('/dashboard/resumen', reservaAulaController.getDashboard.bind(reservaAulaController));
router.get('/upcoming/proximas', reservaAulaController.getUpcomingReservations.bind(reservaAulaController));
router.get('/current/actuales', reservaAulaController.getCurrentReservations.bind(reservaAulaController));
router.get('/availability/check', reservaAulaController.checkAvailability.bind(reservaAulaController));
router.post('/conflicts/detect', reservaAulaController.detectConflicts.bind(reservaAulaController));
router.post('/bulk/create', reservaAulaController.createBulkReservas.bind(reservaAulaController));
router.delete('/bulk/delete', reservaAulaController.deleteBulkReservas.bind(reservaAulaController));
router.post('/recurring/create', reservaAulaController.createRecurringReserva.bind(reservaAulaController));
router.get('/aula/:aulaId', reservaAulaController.getReservasByAula.bind(reservaAulaController));
router.get('/docente/:docenteId', reservaAulaController.getReservasByDocente.bind(reservaAulaController));
router.get('/actividad/:actividadId', reservaAulaController.getReservasByActividad.bind(reservaAulaController));
exports.default = router;
//# sourceMappingURL=reserva-aula.routes.js.map
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const recibo_controller_1 = require("@/controllers/recibo.controller");
const recibo_service_1 = require("@/services/recibo.service");
const recibo_repository_1 = require("@/repositories/recibo.repository");
const persona_repository_1 = require("@/repositories/persona.repository");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const reciboRepository = new recibo_repository_1.ReciboRepository(database_1.prisma);
const personaRepository = new persona_repository_1.PersonaRepository(database_1.prisma);
const reciboService = new recibo_service_1.ReciboService(reciboRepository, personaRepository);
const reciboController = new recibo_controller_1.ReciboController(reciboService);
router.post('/', reciboController.createRecibo.bind(reciboController));
router.get('/', reciboController.getRecibos.bind(reciboController));
router.get('/:id', reciboController.getReciboById.bind(reciboController));
router.put('/:id', reciboController.updateRecibo.bind(reciboController));
router.delete('/:id', reciboController.deleteRecibo.bind(reciboController));
router.get('/search/avanzada', reciboController.searchRecibos.bind(reciboController));
router.get('/stats/resumen', reciboController.getStatistics.bind(reciboController));
router.get('/dashboard/principal', reciboController.getDashboard.bind(reciboController));
router.get('/vencidos/listado', reciboController.getVencidos.bind(reciboController));
router.get('/pendientes/listado', reciboController.getPendientes.bind(reciboController));
router.get('/financial/summary', reciboController.getFinancialSummary.bind(reciboController));
router.get('/transitions/valid', reciboController.getValidStateTransitions.bind(reciboController));
router.put('/:id/estado', reciboController.changeEstado.bind(reciboController));
router.post('/vencidos/process', reciboController.processVencidos.bind(reciboController));
router.post('/bulk/create', reciboController.createBulkRecibos.bind(reciboController));
router.delete('/bulk/delete', reciboController.deleteBulkRecibos.bind(reciboController));
router.put('/bulk/estados', reciboController.updateBulkEstados.bind(reciboController));
router.get('/numero/:numero', reciboController.getReciboByNumero.bind(reciboController));
router.get('/persona/:personaId', reciboController.getRecibosByPersona.bind(reciboController));
router.get('/tipo/:tipo', reciboController.getRecibosPorTipo.bind(reciboController));
router.get('/estado/:estado', reciboController.getRecibosPorEstado.bind(reciboController));
exports.default = router;
//# sourceMappingURL=recibo.routes.js.map
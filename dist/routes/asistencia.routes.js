"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const asistencia_controller_1 = require("@/controllers/asistencia.controller");
const asistencia_service_1 = require("@/services/asistencia.service");
const asistencia_repository_1 = require("@/repositories/asistencia.repository");
const participacion_repository_1 = require("@/repositories/participacion.repository");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const asistenciaRepository = new asistencia_repository_1.AsistenciaRepository(database_1.prisma);
const participacionRepository = new participacion_repository_1.ParticipacionRepository(database_1.prisma);
const asistenciaService = new asistencia_service_1.AsistenciaService(asistenciaRepository, participacionRepository);
const asistenciaController = new asistencia_controller_1.AsistenciaController(asistenciaService);
router.get('/dashboard', asistenciaController.getDashboard.bind(asistenciaController));
router.get('/reporte', asistenciaController.getReporteAsistencias.bind(asistenciaController));
router.get('/alertas', asistenciaController.getAlertasInasistencias.bind(asistenciaController));
router.get('/estadisticas', asistenciaController.getEstadisticasGenerales.bind(asistenciaController));
router.post('/registro-masivo', asistenciaController.registroMasivo.bind(asistenciaController));
router.post('/corregir', asistenciaController.corregirAsistencia.bind(asistenciaController));
router.get('/participacion/:participacionId', asistenciaController.getAsistenciasByParticipacion.bind(asistenciaController));
router.get('/actividad/:actividadId', asistenciaController.getAsistenciasByActividad.bind(asistenciaController));
router.get('/persona/:personaId', asistenciaController.getAsistenciasByPersona.bind(asistenciaController));
router.get('/resumen/persona/:personaId', asistenciaController.getResumenPersona.bind(asistenciaController));
router.get('/resumen/actividad/:actividadId', asistenciaController.getResumenActividad.bind(asistenciaController));
router.get('/tasa/:participacionId', asistenciaController.getTasaAsistencia.bind(asistenciaController));
router.post('/', asistenciaController.createAsistencia.bind(asistenciaController));
router.get('/', asistenciaController.getAsistencias.bind(asistenciaController));
router.get('/:id', asistenciaController.getAsistenciaById.bind(asistenciaController));
router.patch('/:id', asistenciaController.updateAsistencia.bind(asistenciaController));
router.delete('/:id', asistenciaController.deleteAsistencia.bind(asistenciaController));
exports.default = router;
//# sourceMappingURL=asistencia.routes.js.map
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const persona_controller_1 = require("@/controllers/persona.controller");
const persona_service_1 = require("@/services/persona.service");
const persona_repository_1 = require("@/repositories/persona.repository");
const persona_tipo_repository_1 = require("@/repositories/persona-tipo.repository");
const persona_tipo_controller_1 = require("@/controllers/persona-tipo.controller");
const persona_tipo_service_1 = require("@/services/persona-tipo.service");
const database_1 = require("@/config/database");
const router = (0, express_1.Router)();
const personaRepository = new persona_repository_1.PersonaRepository(database_1.prisma);
const personaTipoRepository = new persona_tipo_repository_1.PersonaTipoRepository(database_1.prisma);
const personaService = new persona_service_1.PersonaService(personaRepository, personaTipoRepository);
const personaController = new persona_controller_1.PersonaController(personaService);
const personaTipoService = new persona_tipo_service_1.PersonaTipoService(personaTipoRepository, personaRepository);
const personaTipoController = new persona_tipo_controller_1.PersonaTipoController(personaTipoService);
router.get('/search', personaController.searchPersonas.bind(personaController));
router.get('/socios', personaController.getSocios.bind(personaController));
router.get('/docentes', personaController.getDocentes.bind(personaController));
router.get('/proveedores', personaController.getProveedores.bind(personaController));
router.get('/dni/:dni/check', personaController.checkDni.bind(personaController));
router.post('/', personaController.createPersona.bind(personaController));
router.get('/', personaController.getPersonas.bind(personaController));
router.get('/:id', personaController.getPersonaById.bind(personaController));
router.put('/:id', personaController.updatePersona.bind(personaController));
router.delete('/:id', personaController.deletePersona.bind(personaController));
router.post('/:id/reactivate', personaController.reactivatePersona.bind(personaController));
router.get('/:id/estado', personaController.getEstadoPersona.bind(personaController));
router.get('/:id/tipos/:tipoCodigo/check', personaController.checkTipoActivo.bind(personaController));
router.post('/:personaId/tipos', personaTipoController.asignarTipo.bind(personaTipoController));
router.get('/:personaId/tipos', personaTipoController.getTiposByPersona.bind(personaTipoController));
router.put('/:personaId/tipos/:tipoId', personaTipoController.updateTipo.bind(personaTipoController));
router.delete('/:personaId/tipos/:tipoPersonaId', personaTipoController.desasignarTipo.bind(personaTipoController));
router.delete('/:personaId/tipos/:tipoPersonaId/hard', personaTipoController.eliminarTipo.bind(personaTipoController));
router.post('/:personaId/contactos', personaTipoController.agregarContacto.bind(personaTipoController));
router.get('/:personaId/contactos', personaTipoController.getContactosByPersona.bind(personaTipoController));
router.put('/:personaId/contactos/:contactoId', personaTipoController.updateContacto.bind(personaTipoController));
router.delete('/:personaId/contactos/:contactoId', personaTipoController.eliminarContacto.bind(personaTipoController));
exports.default = router;
//# sourceMappingURL=persona.routes.js.map